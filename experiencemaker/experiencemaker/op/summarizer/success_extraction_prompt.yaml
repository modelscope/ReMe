success_step_experience_prompt: |
  You are an expert AI analyst reviewing successful step sequences from an AI agent execution.
  
  Your task is to extract reusable, actionable step-level experiences that can guide future agent executions.
  Focus on identifying specific patterns, techniques, and decision points that contributed to success.
  
  ANALYSIS FRAMEWORK:
  ● STEP PATTERN ANALYSIS: Identify the specific sequence of actions that led to success
  ● DECISION POINTS: Highlight critical decisions made during these steps
  ● TECHNIQUE EFFECTIVENESS: Analyze why specific approaches worked well
  ● REUSABILITY: Extract patterns that can be applied to similar scenarios
  
  EXTRACTION PRINCIPLES:
  ● Focus on TRANSFERABLE TECHNIQUES and decision frameworks
  ● Frame insights as actionable guidelines and best practices
  
  # Original Query
  {query}
  
  # Step Sequence Analysis
  {step_sequence}
  
  # Context Information
  {context}
  
  # Outcome
  This step sequence was part of a {outcome} trajectory.
  
  OUTPUT FORMAT:
  Generate 1-3 step-level success insights as JSON objects:
  ```json
  [
    {{
      "when_to_use": "Specific conditions when this step pattern should be applied",
      "experience": "Detailed description of the successful step pattern and why it works",
      "tags": ["relevant", "keywords", "for", "categorization"],
      "confidence": 0.8,
      "step_type": "reasoning|action|observation|decision",
      "tools_used": ["list", "of", "tools"]
    }}
  ]
  ```

success_step_experience_with_query_prompt: |
  You are an expert AI analyst reviewing successful step sequences from an AI agent execution.
  
  Your task is to extract reusable, actionable step-level experiences that can guide future agent executions.
  Focus on identifying specific patterns, techniques, and decision points that contributed to success.
  
  ANALYSIS FRAMEWORK:
  ● STEP PATTERN ANALYSIS: Identify the specific sequence of actions that led to success
  ● DECISION POINTS: Highlight critical decisions made during these steps
  ● TECHNIQUE EFFECTIVENESS: Analyze why specific approaches worked well
  ● REUSABILITY: Extract patterns that can be applied to similar scenarios
  
  EXTRACTION PRINCIPLES:
  ● Focus on TRANSFERABLE TECHNIQUES and decision frameworks
  ● Frame insights as actionable guidelines and best practices
  
  # Original Query
  {query}
  
  # Step Sequence Analysis
  {step_sequence}
  
  # Context Information
  {context}
  
  # Outcome
  This step sequence was part of a {outcome} trajectory.
  
  OUTPUT FORMAT:
  Generate 1-3 step-level success insights as JSON objects:
  ```json
  [
    {{
      "when_to_use": "Specific conditions when this success insight should be applied",
      "task_query": "Identify the specific task query from the original trajectory that this success experience is most closely related to. Extract the exact query text.",
      "generalized_query": "Abstract the specific task query to create a more generalized task representation.",
      "experience": "Detailed description of the successful step pattern and why it works",
      "tags": ["relevant", "keywords", "from", "the", "task", "query"],
      "confidence": 0.8,
      "step_type": "reasoning|action|observation|decision",
      "tools_used": ["list", "of", "tools"]
    }}
  ]
  ```

success_traj_experience_prompt: |
  You are an expert AI analyst reviewing successful step sequences from an AI agent execution.
  
  Your task is to extract reusable, actionable trajectory-level experiences that can guide future agent executions.
  Focus on identifying high-level planning patterns that contributed to success.
  
  ANALYSIS FRAMEWORK:
  ● PLAN ANALYSIS: Identify meta-cognitive thinking patterns (i.e., step-by-step plan) that led to success
  ● DECISION POINTS: Highlight critical decisions made during the problem-solving planning 
  ● GENERALIZABILITY: Analyze generalizable principles that would help the agents perform better on similar tasks
  ● REUSABILITY: Extract patterns that can be applied to similar scenarios
  
  EXTRACTION PRINCIPLES:
  ● Focus on TRANSFERABLE TECHNIQUES and decision frameworks
  ● Frame insights as actionable guidelines and best practices
  
  # Original Query
  {query}
  
  # Step Sequence Analysis
  {step_sequence}
  
  # Context Information
  {context}
  
  # Outcome
  This step sequence was part of a {outcome} trajectory.
  
  OUTPUT FORMAT:
  Generate 1-3 trajectory-level success insights as JSON objects:
  ```json
  [
    {{
      "when_to_use": "Specific conditions when this high-level planning pattern should be applied",
      "experience": "General successful step-by-step plan abstracted from this trajectory",
      "tags": ["relevant", "keywords", "for", "categorization"],
      "confidence": 0.8,
      "tools_used": ["list", "of", "tools"]
    }}
  ]
  ```