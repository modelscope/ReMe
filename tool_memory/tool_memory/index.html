<!DOCTYPE html>
<html lang="en">

<head>
    <script>
        // for search plugin notably
        const base_url = "https://modelscope.github.io/ReMe/";
    </script>
    <script>
    const darkTheme = window.matchMedia("(prefers-color-scheme: dark)");
    darkTheme.onchange = (e) => {
        if (e.matches) {
            document.documentElement.classList.add("dark")
            localStorage.theme = 'dark';
        } else {
            document.documentElement.classList.remove("dark")
            localStorage.removeItem("theme")
        }
    };

    // On page load. Priotiry to lcaolStorage
    if (localStorage.theme === "dark") {
        document.documentElement.classList.add("dark")
    } else if (localStorage.theme === "light") {
        document.documentElement.classList.remove("dark")
    } else if (darkTheme.matches) {
        document.documentElement.classList.add("dark")
    } else {
        document.documentElement.classList.remove("dark")
    }

    // set the layout based on localStorage
    document.documentElement.classList.add(localStorage.getItem("html-layout") || "layout-fixed");
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Overview - ReMe</title>
    


<title>Overview</title>









<link rel="canonical" href="https://modelscope.github.io/ReMe/tool_memory/tool_memory/">


<!-- Open Graph (Facebook, LinkedIn) -->

<meta property="og:title" content="Overview">





<meta property="og:url" content="https://modelscope.github.io/ReMe/tool_memory/tool_memory/">






<!-- Twitter Card -->

<meta name="twitter:title" content="Overview">






<!-- JSON-LD Structured Data -->



    <link rel="icon" href="../../img/favicon.ico">

    <link href="../../css/base.css" rel="stylesheet">
    <link href="../../css/geist.css" rel="stylesheet">

    
    

<link id="pygments-light" rel="stylesheet"
    href="../../css/pygments/shadcn-light.css">
<link id="pygments-dark" rel="stylesheet"
    href="../../css/pygments/github-dark.css"
    media="(prefers-color-scheme: dark)">


    

    

    <script src="../../js/callbacks.js"></script>

    
    <!-- katex -->
<link rel="stylesheet" href="../../css/katex.min.css">
<!-- The loading of KaTeX is deferred to speed up page rendering -->
<script defer src="../../js/katex.min.js"></script>
<!-- To automatically render math in text elements, include the auto-render extension: -->
<script defer src="../../js/auto-render.min.js"
    onload='renderMathInElement(document.body, "{}");'></script>
    

    
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.6.0/dist/echarts.js"></script>
<script>
    const rootStyles = getComputedStyle(document.documentElement);
    const color = ["#8ec5ff", "#2b7fff", "#1d6ed4", "#155ab6", "#0f4c8a"];
    const waitForECharts = () => {
        if (typeof echarts !== 'undefined') {
            console.log('ECharts is loaded');
            echarts.registerTheme('shadcn', {
                "seriesCnt": "5",
                "backgroundColor": "rgba(0,0,0,0)",
                "titleColor": "#0a0a0a",
                "subtitleColor": "#737373",
                "textColorShow": false,
                "textColor": "#333",
                "textStyle": {
                    "fontFamily": "Geist"
                },
                "markTextColor": "#ffffff",
                "color": color,
                "borderColor": "#e5e5e5",
                "borderWidth": 0,
                "visualMapColor": [
                    "#09090b",
                    "#18181b",
                    "#27272a",
                    "#3f3f46",
                    "#52525b",
                    "#71717a",
                    "#a1a1aa",
                    "#d4d4d8",
                    "#e4e4e7",
                    "#f4f4f5",
                    "#fafafa"
                ],
                "legendTextColor": "#0a0a0a",
                "kColor": "#eb5454",
                "kColor0": "#47b262",
                "kBorderColor": "#eb5454",
                "kBorderColor0": "#47b262",
                "kBorderWidth": 1,
                "lineWidth": 2,
                "symbolSize": 4,
                "symbol": "emptyCircle",
                "symbolBorderWidth": 1,
                "lineSmooth": true,
                "graphLineWidth": 1,
                "graphLineColor": "#aaaaaa",
                "mapLabelColor": "#000",
                "mapLabelColorE": "rgb(100,0,0)",
                "mapBorderColor": "#444",
                "mapBorderColorE": "#444",
                "mapBorderWidth": 0.5,
                "mapBorderWidthE": 1,
                "mapAreaColor": "#eee",
                "mapAreaColorE": "rgba(255,215,0,0.8)",
                "axes": [
                    {
                        "type": "all",
                        "name": "通用坐标轴",
                        "axisLineShow": true,
                        "axisLineColor": "#6E7079",
                        "axisTickShow": true,
                        "axisTickColor": "#6E7079",
                        "axisLabelShow": true,
                        "axisLabelColor": "#6E7079",
                        "splitLineShow": true,
                        "splitLineColor": [
                            "#E0E6F1"
                        ],
                        "splitAreaShow": false,
                        "splitAreaColor": [
                            "rgba(250,250,250,0.2)",
                            "rgba(210,219,238,0.2)"
                        ]
                    },
                    {
                        "type": "category",
                        "name": "类目坐标轴",
                        "axisLineShow": true,
                        "axisLineColor": "#6e7079",
                        "axisTickShow": true,
                        "axisTickColor": "#6e7079",
                        "axisLabelShow": true,
                        "axisLabelColor": "#6e7079",
                        "splitLineShow": false,
                        "splitLineColor": [
                            "#E0E6F1"
                        ],
                        "splitAreaShow": false,
                        "splitAreaColor": [
                            "rgba(250,250,250,0.2)",
                            "rgba(210,219,238,0.2)"
                        ]
                    },
                    {
                        "type": "value",
                        "name": "数值坐标轴",
                        "axisLineShow": false,
                        "axisLineColor": "#6e7079",
                        "axisTickShow": false,
                        "axisTickColor": "#6e7079",
                        "axisLabelShow": true,
                        "axisLabelColor": "#6e7079",
                        "splitLineShow": true,
                        "splitLineColor": [
                            "#E0E6F1"
                        ],
                        "splitAreaShow": false,
                        "splitAreaColor": [
                            "rgba(250,250,250,0.2)",
                            "rgba(210,219,238,0.2)"
                        ]
                    },
                    {
                        "type": "log",
                        "name": "对数坐标轴",
                        "axisLineShow": false,
                        "axisLineColor": "#6e7079",
                        "axisTickShow": false,
                        "axisTickColor": "#6e7079",
                        "axisLabelShow": true,
                        "axisLabelColor": "#6e7079",
                        "splitLineShow": true,
                        "splitLineColor": [
                            "#E0E6F1"
                        ],
                        "splitAreaShow": false,
                        "splitAreaColor": [
                            "rgba(250,250,250,0.2)",
                            "rgba(210,219,238,0.2)"
                        ]
                    },
                    {
                        "type": "time",
                        "name": "时间坐标轴",
                        "axisLineShow": true,
                        "axisLineColor": "#6e7079",
                        "axisTickShow": true,
                        "axisTickColor": "#6e7079",
                        "axisLabelShow": true,
                        "axisLabelColor": "#6e7079",
                        "splitLineShow": false,
                        "splitLineColor": [
                            "#E0E6F1"
                        ],
                        "splitAreaShow": false,
                        "splitAreaColor": [
                            "rgba(250,250,250,0.2)",
                            "rgba(210,219,238,0.2)"
                        ]
                    }
                ],
                "axisSeperateSetting": true,
                "toolboxColor": "#999999",
                "toolboxEmphasisColor": "#666666",
                "tooltipAxisColor": "#cccccc",
                "tooltipAxisWidth": 1,
                "timelineLineColor": "#e5e5e5",
                "timelineLineWidth": 2,
                "timelineItemColor": "#e5e5e5",
                "timelineItemColorE": "#ffffff",
                "timelineCheckColor": "#171717",
                "timelineCheckBorderColor": "#ffffff",
                "timelineItemBorderWidth": 1,
                "timelineControlColor": "#737373",
                "timelineControlBorderColor": "#171717",
                "timelineControlBorderWidth": "0.0",
                "timelineLabelColor": "#737373"
            })
        } else {
            setTimeout(waitForECharts, 300);
        }
    }

    waitForECharts();

</script>
    

    

</head>

<body
    class="text-foreground group/body overscroll-none font-sans antialiased [--footer-height:calc(var(--spacing)*14)] [--header-height:calc(var(--spacing)*14)] xl:[--footer-height:calc(var(--spacing)*24)] theme-default">
    <div id="inner-body" class="bg-background relative z-10 flex min-h-svh flex-col">
        <header class="bg-background sticky top-0 z-50 w-full" view-transition-name="header">
    <div class="container-wrapper 3xl:fixed:px-0 px-6">
        <div class="3xl:fixed:container flex h-(--header-height) items-center gap-2 **:data-[slot=separator]:!h-4">
            <button id="menu-button" data-slot="popover-trigger" onclick="onMobileMenuButtonClick(event)"
                class="group whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground px-4 py-2 has-[&gt;svg]:px-3 extend-touch-target h-8 touch-manipulation items-center justify-start gap-2.5 !p-0 hover:bg-transparent focus-visible:bg-transparent focus-visible:ring-0 active:bg-transparent dark:hover:bg-transparent flex lg:hidden"
                type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«Rmplb»"
                data-state="closed">
                <div class="relative flex h-8 w-4 items-center justify-center">
                    <div class="relative size-4">
                        <!-- 16px x 16px -->
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="0" x2="16" y1="5" y2="5"
                                class="group-data-[state=open]:translate-y-[2.25px] group-data-[state=open]:-translate-x-[2.25px] group-data-[state=open]:rotate-45 transition-all duration-300 origin-center" />
                            <line x1="0" x2="16" y1="11" y2="11"
                                class="group-data-[state=open]:-translate-y-[2.25px] group-data-[state=open]:-translate-x-[2.25px] group-data-[state=open]:-rotate-45 transition-all duration-300 origin-center" />
                        </svg>
                    </div>

                    <span class="sr-only">Toggle Menu</span>
                </div>
                <span class="flex h-8 items-center text-lg leading-none font-medium">Menu</span>
            </button>
            <a data-slot="button"
                class="items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 hidden h-8 lg:flex"
                href="https://modelscope.github.io/ReMe/">
                <span class="size-8 flex flex-row justify-center items-center">
                    

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"
    class="size-5">
    <rect width="256" height="256" fill="none"></rect>
    <line x1="208" y1="128" x2="128" y2="208" fill="none" stroke="currentColor" stroke-linecap="round"
        stroke-linejoin="round" stroke-width="32"></line>
    <line x1="192" y1="40" x2="40" y2="192" fill="none" stroke="currentColor" stroke-linecap="round"
        stroke-linejoin="round" stroke-width="32"></line>
</svg>


                </span>

                
                <h1 class="pr-2">ReMe</h1>
                
            </a>
            
            <div class="ml-auto flex items-center gap-2 md:flex-1 md:justify-end">
                <div class="hidden w-full flex-1 md:flex md:w-auto md:flex-none">
                    <button data-slot="dialog-trigger" onclick="onSearchBarClick(event)"
    class="inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-secondary/80 px-4 py-2 has-[&gt;svg]:px-3 bg-surface text-surface-foreground/60 dark:bg-card relative h-8 w-full justify-start pl-2.5 font-normal shadow-none sm:pr-12 md:w-40 lg:w-56 xl:w-64"
    type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«R66plb»" data-state="closed">
    <span class="text-muted-foreground hidden lg:inline-flex">Search documentation...</span>
    <span class="text-muted-foreground inline-flex lg:hidden">Search...</span>
    <div class="absolute top-1.5 right-1.5 hidden gap-1 sm:flex">
        <kbd
            class="bg-background text-muted-foreground pointer-events-none flex h-5 items-center justify-center gap-1 rounded border px-1 font-sans text-[0.7rem] font-medium select-none [&amp;_svg:not([class*='size-'])]:size-3">Ctrl</kbd><kbd
            class="bg-background text-muted-foreground pointer-events-none flex h-5 items-center justify-center gap-1 rounded border px-1 font-sans text-[0.7rem] font-medium select-none [&amp;_svg:not([class*='size-'])]:size-3 aspect-square">K</kbd>
    </div>
</button>
<dialog id="search-dialog" onclick="onSearchDialogClick(event)"
    class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-background rounded-lg shadow-lg border overflow-hidden p-0">
    <div class="w-lg gap-4">
        <div class="flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground">
            <div data-slot="command-input-wrapper" class="flex h-9 items-center gap-2 border-b px-3"><svg
                    xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-search size-4 shrink-0 opacity-50">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.3-4.3"></path>
                </svg>
                <input data-slot="command-input"
                    class="placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50"
                    placeholder="Search documentation..." cmdk-input="" autocomplete="off" autocorrect="off"
                    spellcheck="false" aria-autocomplete="list" role="combobox" aria-expanded="true"
                    aria-controls="radix-«r1t6»" aria-labelledby="radix-«r1t7»" id="radix-«r1t8»" type="text" value=""
                    aria-activedescendant="radix-«r1th»" oninput="onInputHandler(event)">
            </div>
        </div>
        <div id="mkdocs-search-results">
            <!-- search results go there -->
        </div>
    </div>
</dialog>
<script>
    document.removeEventListener("keydown", searchShortcutHandler);
    document.addEventListener("keydown", searchShortcutHandler);
</script>
                </div>
                <div data-orientation="vertical" role="none" data-slot="separator"
                    class="bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px ml-2 hidden lg:block">
                </div>
                <a target="_blank" rel="noreferrer" data-slot="button"
                    class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 h-8 shadow-none"
                    href="https://github.com/modelscope/ReMe">
                    <svg viewBox="0 0 438.549 438.549">
                        <path fill="currentColor"
                            d="M409.132 114.573c-19.608-33.596-46.205-60.194-79.798-79.8-33.598-19.607-70.277-29.408-110.063-29.408-39.781 0-76.472 9.804-110.063 29.408-33.596 19.605-60.192 46.204-79.8 79.8C9.803 148.168 0 184.854 0 224.63c0 47.78 13.94 90.745 41.827 128.906 27.884 38.164 63.906 64.572 108.063 79.227 5.14.954 8.945.283 11.419-1.996 2.475-2.282 3.711-5.14 3.711-8.562 0-.571-.049-5.708-.144-15.417a2549.81 2549.81 0 01-.144-25.406l-6.567 1.136c-4.187.767-9.469 1.092-15.846 1-6.374-.089-12.991-.757-19.842-1.999-6.854-1.231-13.229-4.086-19.13-8.559-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-.951-2.568-2.098-3.711-3.429-1.142-1.331-1.997-2.663-2.568-3.997-.572-1.335-.098-2.43 1.427-3.289 1.525-.859 4.281-1.276 8.28-1.276l5.708.853c3.807.763 8.516 3.042 14.133 6.851 5.614 3.806 10.229 8.754 13.846 14.842 4.38 7.806 9.657 13.754 15.846 17.847 6.184 4.093 12.419 6.136 18.699 6.136 6.28 0 11.704-.476 16.274-1.423 4.565-.952 8.848-2.383 12.847-4.285 1.713-12.758 6.377-22.559 13.988-29.41-10.848-1.14-20.601-2.857-29.264-5.14-8.658-2.286-17.605-5.996-26.835-11.14-9.235-5.137-16.896-11.516-22.985-19.126-6.09-7.614-11.088-17.61-14.987-29.979-3.901-12.374-5.852-26.648-5.852-42.826 0-23.035 7.52-42.637 22.557-58.817-7.044-17.318-6.379-36.732 1.997-58.24 5.52-1.715 13.706-.428 24.554 3.853 10.85 4.283 18.794 7.952 23.84 10.994 5.046 3.041 9.089 5.618 12.135 7.708 17.705-4.947 35.976-7.421 54.818-7.421s37.117 2.474 54.823 7.421l10.849-6.849c7.419-4.57 16.18-8.758 26.262-12.565 10.088-3.805 17.802-4.853 23.134-3.138 8.562 21.509 9.325 40.922 2.279 58.24 15.036 16.18 22.559 35.787 22.559 58.817 0 16.178-1.958 30.497-5.853 42.966-3.9 12.471-8.941 22.457-15.125 29.979-6.191 7.521-13.901 13.85-23.131 18.986-9.232 5.14-18.182 8.85-26.84 11.136-8.662 2.286-18.415 4.004-29.263 5.146 9.894 8.562 14.842 22.077 14.842 40.539v60.237c0 3.422 1.19 6.279 3.572 8.562 2.379 2.279 6.136 2.95 11.276 1.995 44.163-14.653 80.185-41.062 108.068-79.226 27.88-38.161 41.825-81.126 41.825-128.906-.01-39.771-9.818-76.454-29.414-110.049z">
                        </path>
                    </svg>
                    
                    <span id="stargazers" class="text-muted-foreground w-8 text-xs tabular-nums" onload="test()">
                    </span>
                    
                </a>
                <div data-orientation="vertical" role="none" data-slot="separator"
                    class="bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px 3xl:flex hidden">
                </div>
                <button data-slot="button"
                    class="items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-8 3xl:flex hidden"
                    title="Toggle layout" onclick="toggleLayout(event)">
                    <span class="sr-only">Toggle layout</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-gallery-horizontal">
                        <path d="M2 3v18"></path>
                        <rect width="12" height="18" x="6" y="3" rx="2"></rect>
                        <path d="M22 3v18"></path>
                    </svg>
                </button>
                <div data-orientation="vertical" role="none" data-slot="separator"
                    class="bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px">
                </div>
                <button data-slot="button"
                    class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 group/toggle extend-touch-target size-8"
                    title="Toggle theme" onclick="onThemeSwitch(event)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="size-4.5">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path>
                        <path d="M12 3l0 18"></path>
                        <path d="M12 9l4.65 -4.65"></path>
                        <path d="M12 14.3l7.37 -7.37"></path>
                        <path d="M12 19.6l8.85 -8.85"></path>
                    </svg>
                    <span class="sr-only">Toggle theme</span>
                </button>
            </div>
        </div>
    </div>
</header>
        <main class="flex flex-1 flex-col">
            <div class="container-wrapper flex flex-1 flex-col px-2">
                <div data-slot="sidebar-wrapper" style="--sidebar-width: 16rem; --sidebar-width-icon: 3rem;"
                    class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex w-full 3xl:fixed:container 3xl:fixed:px-3 min-h-min flex-1 items-start px-0 [--sidebar-width:220px] [--top-spacing:0] lg:grid lg:grid-cols-[var(--sidebar-width)_minmax(0,1fr)] lg:[--sidebar-width:240px] lg:[--top-spacing:calc(var(--spacing)*4)]">
                    <div data-slot="sidebar"
                        class="text-sidebar-foreground w-(--sidebar-width) flex-col sticky top-[calc(var(--header-height)+1px)] z-30 hidden h-[calc(100svh-var(--header-height)-var(--footer-height))] bg-transparent lg:flex">
                        <div data-slot="sidebar-content" data-sidebar="content"
                            class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden no-scrollbar px-2 pb-12">
                            <div class="h-(--top-spacing) shrink-0"></div>
                            <div view-transition-name="sidebar" data-slot="sidebar-group" data-sidebar="group"
    class="relative flex w-full min-w-0 flex-col p-2 no-scrollbar">
    

    
    
    

    

    
    

    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Welcome
        

        

        

        
    </a>
</li>
                
                
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/todo/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        TODO
        

        

        

        
    </a>
</li>
                
                
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/contribution/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Contributions
        

        

        

        
    </a>
</li>
                
                
            </ul>
        </div>
    </div>
    

    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            Library</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/library/library/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Library Home
        

        
        
        <span
    class="ml-2 rounded-md bg-[#adfa1d] px-1.5 py-0.5 text-xs leading-none text-[#000000] no-underline group-hover:no-underline">New</span>
        
        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            Personal Memory</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/personal_memory/personal_memory/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Overview
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/personal_memory/personal_retrieve_ops/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Retrieve Ops
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/personal_memory/personal_summary_ops/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Summary Ops
        

        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            Task Memory</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/task_memory/task_memory/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Overview
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/task_memory/task_retrieve_ops/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Retrieve Ops
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/task_memory/task_summary_ops/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Summary Ops
        

        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            Tool Memory</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="true" data-sidebar="menu-button"
        data-size="default" href="/ReMe/tool_memory/tool_memory/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Overview
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/tool_memory/tool_retrieve_ops/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Retrieve Ops
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/tool_memory/tool_summary_ops/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Summary Ops
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/tool_memory/tool_bench/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Benchmark
        

        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            SOP Memory</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/sop_memory/making_sop_memories/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Making SOP Memories
        

        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            Extensions</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/mcp_quick_start/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        MCP
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/vector_store_api_guide/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Vector Store
        

        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            Experimental Tutorials</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/cookbook/appworld/quickstart/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        AppWorld
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/cookbook/bfcl/quickstart/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        BFCL
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/ReMe/cookbook/frozenlake/quickstart/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        FrozenLake
        

        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    


    
</div>
                        </div>
                    </div>
                    <div class="h-full w-full">
                        <div data-slot="docs" class="flex items-stretch text-[1.05rem] sm:text-[15px] xl:w-full">
                            <div class="flex min-w-0 flex-1 flex-col">
                                <div class="h-(--top-spacing) shrink-0"></div>
                                <article class=" w-full" view-transition-name="page">
    <div class="flex flex-col gap-2">
        <div class="flex flex-col gap-2">
            <div id="page-header" class="flex items-start justify-between">

                <h1 class="scroll-m-20 text-4xl font-semibold tracking-tight sm:text-3xl xl:text-4xl">
                    Overview
                </h1>

                <div class="flex items-center gap-2 pt-1.5">
                    
                    <a data-slot="button" id="previous-button"
                        class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-secondary text-secondary-foreground hover:bg-secondary/80 extend-touch-target size-8 shadow-none md:size-7"
                        href="/ReMe/task_memory/task_summary_ops/">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="tabler-icon tabler-icon-arrow-left ">
                            <path d="M5 12l14 0"></path>
                            <path d="M5 12l6 6"></path>
                            <path d="M5 12l6 -6"></path>
                        </svg>
                        <span class="sr-only">Previous</span>
                    </a>
                    
                    
                    <a data-slot="button" id="next-button"
                        class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-secondary text-secondary-foreground hover:bg-secondary/80 extend-touch-target size-8 shadow-none md:size-7"
                        href="/ReMe/tool_memory/tool_retrieve_ops/">
                        <span class="sr-only">Next</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="tabler-icon tabler-icon-arrow-right ">
                            <path d="M5 12l14 0"></path>
                            <path d="M13 18l6 -6"></path>
                            <path d="M13 6l6 6"></path>
                        </svg>
                    </a>
                    
                </div>
            </div>
            
        </div>
        <div class="flex justify-end items-center">
            
            
        </div>

    </div>
    <div class="typography w-full flex-1 *:data-[slot=alert]:first:mt-0">
        <h2 id="1-background-why-tool-memory">1. Background: Why Tool Memory?</h2>
<h3 id="the-mcp-tool-selection-challenge">The MCP Tool Selection Challenge</h3>
<p>In modern AI agent systems, LLMs face a rapidly expanding ecosystem of MCP (Model Context Protocol) tools. With hundreds or thousands of available tools, a critical problem emerges:</p>
<p><strong>The Core Problem: Tool Description is Not Enough</strong></p>
<p>When an LLM faces numerous MCP tools, it relies heavily on tool descriptions to decide which tool to use and how to use it. However:</p>
<ul>
<li><strong>Ambiguous Descriptions</strong>: Many tools have similar descriptions but different performance characteristics</li>
<li><strong>Hidden Complexity</strong>: Static descriptions can't capture runtime behaviors, edge cases, or failure patterns</li>
<li><strong>Parameter Confusion</strong>: Tools may accept similar parameters with different optimal values</li>
<li><strong>No Quality Signal</strong>: Descriptions don't tell you which tools are reliable, fast, or cost-effective</li>
</ul>
<p><strong>Example: Web Search Tools</strong></p>
<p>Imagine an LLM choosing between three search tools:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">Tool</span><span class="w"> </span><span class="nv">A</span>:<span class="w"> </span><span class="s2">&quot;Search the web for information&quot;</span>
<span class="nv">Tool</span><span class="w"> </span><span class="nv">B</span>:<span class="w"> </span><span class="s2">&quot;Perform web searches with customizable parameters&quot;</span><span class="w">  </span>
<span class="nv">Tool</span><span class="w"> </span><span class="nv">C</span>:<span class="w"> </span><span class="s2">&quot;Query search engines and return results&quot;</span>
</code></pre></div>

<p>The descriptions are nearly identical, but in reality:
- Tool A: 95% success rate, avg 2.3s, best for technical queries
- Tool B: 70% success rate, avg 5.8s, often times out with &gt;20 results
- Tool C: 85% success rate, avg 3.1s, good for general queries</p>
<p><strong>Without historical data, the LLM can't make informed decisions.</strong></p>
<h3 id="the-solution-tool-memory-as-context-enhancement">The Solution: Tool Memory as Context Enhancement</h3>
<p>Tool Memory solves this by providing <strong>learned context from historical usage</strong>, transforming static tool descriptions into dynamic, data-driven guidance:</p>
<p><strong>1. Rule-Based Statistics</strong> (Objective Metrics)
- <strong>Success Rate</strong>: "This tool succeeds 92% of the time"
- <strong>Performance</strong>: "Average execution time: 2.3s, token cost: 150"
- <strong>Usage Patterns</strong>: "Most successful calls use max_results=10-20"</p>
<p><strong>2. LLM-as-Judge Evaluation</strong> (Qualitative Insights)
- <strong>Quality Assessment</strong>: LLM evaluates each call's effectiveness
- <strong>Pattern Recognition</strong>: Identifies why some calls succeed and others fail
- <strong>Actionable Recommendations</strong>: Synthesizes guidelines from patterns</p>
<p><strong>3. Enhanced Context for LLM Decision-Making</strong></p>
<p>Instead of just a tool description, the LLM now receives:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Tool</span><span class="o">:</span><span class="w"> </span><span class="n">web_search</span>

<span class="n">Static</span><span class="w"> </span><span class="n">Description</span><span class="o">:</span>
<span class="s2">&quot;Search the web for information&quot;</span>

<span class="o">+</span><span class="w"> </span><span class="n">Tool</span><span class="w"> </span><span class="n">Memory</span><span class="w"> </span><span class="n">Context</span><span class="o">:</span>
<span class="s2">&quot;Based on 150 historical calls:</span>
<span class="s2">- Success rate: 92% (138 successful, 12 failed)</span>
<span class="s2">- Avg time: 2.3s, Avg tokens: 150</span>
<span class="s2">- Best for: Technical documentation, tutorials (95% success)</span>
<span class="s2">- Optimal params: max_results=5-20, language=&#39;en&#39;</span>
<span class="s2">- Common failures: Generic queries timeout, max_results&gt;50 unreliable</span>
<span class="s2">- Recommendation: Use specific multi-word queries with filter_type=&#39;technical_docs&#39;&quot;</span>
</code></pre></div>

<p>This enriched context enables the LLM to:
- <strong>Choose the right tool</strong> based on task requirements and reliability
- <strong>Use optimal parameters</strong> learned from successful historical calls
- <strong>Avoid known pitfalls</strong> that caused previous failures
- <strong>Estimate costs</strong> (time and tokens) before execution</p>
<h3 id="the-impact-from-static-descriptions-to-dynamic-intelligence">The Impact: From Static Descriptions to Dynamic Intelligence</h3>
<p><strong>Traditional Approach (Static Descriptions Only):</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">LLM</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;I have 50 search tools, all with similar descriptions&quot;</span>
<span class="err">→</span><span class="w"> </span><span class="n">Random</span><span class="w"> </span><span class="n">choice</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="k">match</span>
<span class="err">→</span><span class="w"> </span><span class="n">Trial</span><span class="o">-</span><span class="ow">and</span><span class="o">-</span><span class="n">error</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">selection</span>
<span class="err">→</span><span class="w"> </span><span class="mi">75</span><span class="o">%</span><span class="w"> </span><span class="n">success</span><span class="w"> </span><span class="n">rate</span><span class="p">,</span><span class="w"> </span><span class="n">repeated</span><span class="w"> </span><span class="n">failures</span>
</code></pre></div>

<p><strong>Tool Memory Approach (Description + Historical Context):</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">LLM</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;I have 50 search tools, but Tool A has 95</span><span class="si">% s</span><span class="s2">uccess for technical queries&quot;</span>
<span class="err">→</span><span class="w"> </span><span class="n">Informed</span><span class="w"> </span><span class="n">choice</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">data</span>
<span class="err">→</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">proven</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">configurations</span>
<span class="err">→</span><span class="w"> </span><span class="mi">92</span><span class="o">%</span><span class="w"> </span><span class="n">success</span><span class="w"> </span><span class="n">rate</span><span class="p">,</span><span class="w"> </span><span class="n">optimized</span><span class="w"> </span><span class="n">performance</span>
</code></pre></div>

<p><strong>Real-World Impact:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">Before</span><span class="w"> </span><span class="n">Tool</span><span class="w"> </span><span class="n">Memory</span><span class="p">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">Success</span><span class="w"> </span><span class="n">rate</span><span class="p">:</span><span class="w"> </span><span class="mi">75</span><span class="o">%</span>
<span class="o">-</span><span class="w"> </span><span class="n">Average</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">cost</span><span class="p">:</span><span class="w"> </span><span class="mf">5.2</span><span class="n">s</span><span class="w">  </span>
<span class="o">-</span><span class="w"> </span><span class="n">Token</span><span class="w"> </span><span class="n">cost</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="o">+</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">call</span>
<span class="o">-</span><span class="w"> </span><span class="n">Repeated</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">errors</span>
<span class="o">-</span><span class="w"> </span><span class="n">Random</span><span class="w"> </span><span class="k">tool</span><span class="w"> </span><span class="n">selection</span>

<span class="n">After</span><span class="w"> </span><span class="n">Tool</span><span class="w"> </span><span class="n">Memory</span><span class="p">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">Success</span><span class="w"> </span><span class="n">rate</span><span class="p">:</span><span class="w"> </span><span class="mi">92</span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="o">+</span><span class="mi">17</span><span class="o">%</span><span class="p">)</span>
<span class="o">-</span><span class="w"> </span><span class="n">Average</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">cost</span><span class="p">:</span><span class="w"> </span><span class="mf">2.8</span><span class="n">s</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">46</span><span class="o">%</span><span class="p">)</span>
<span class="o">-</span><span class="w"> </span><span class="n">Token</span><span class="w"> </span><span class="n">cost</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">25</span><span class="o">%</span><span class="p">)</span>
<span class="o">-</span><span class="w"> </span><span class="n">Consistent</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">practices</span>
<span class="o">-</span><span class="w"> </span><span class="n">Data</span><span class="o">-</span><span class="n">driven</span><span class="w"> </span><span class="k">tool</span><span class="w"> </span><span class="n">selection</span>
</code></pre></div>

<h3 id="why-this-matters-for-mcp-ecosystem">Why This Matters for MCP Ecosystem</h3>
<p>As the MCP ecosystem grows, Tool Memory becomes essential:</p>
<ol>
<li><strong>Scalability</strong>: LLMs can navigate thousands of tools with confidence</li>
<li><strong>Quality Control</strong>: Tools with poor performance get flagged automatically</li>
<li><strong>Continuous Improvement</strong>: Every call improves the knowledge base</li>
<li><strong>Transfer Learning</strong>: Insights from one agent benefit all agents in the workspace</li>
</ol>
<p><strong>Tool Memory transforms tool descriptions from static documentation into living, learned manuals that improve with every use.</strong></p>
<h2 id="2-what-is-tool-memory">2. What is Tool Memory?</h2>
<p>Tool Memory is a structured knowledge base that captures insights from tool usage history. Each Tool Memory represents accumulated wisdom about a specific tool.</p>
<h3 id="data-structure">Data Structure</h3>
<h4 id="toolmemory">ToolMemory</h4>
<p><code>ToolMemory</code> is the core data structure that stores comprehensive information about a tool's usage patterns:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ToolMemory</span><span class="p">(</span><span class="n">BaseMemory</span><span class="p">):</span>
    <span class="n">memory_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;tool&quot;</span>                    <span class="c1"># Type identifier</span>
    <span class="n">workspace_id</span><span class="p">:</span> <span class="nb">str</span>                            <span class="c1"># Workspace identifier</span>
    <span class="n">memory_id</span><span class="p">:</span> <span class="nb">str</span>                               <span class="c1"># Unique memory ID</span>
    <span class="n">when_to_use</span><span class="p">:</span> <span class="nb">str</span>                             <span class="c1"># Tool name (serves as unique identifier)</span>
    <span class="n">content</span><span class="p">:</span> <span class="nb">str</span>                                 <span class="c1"># Synthesized usage guidelines</span>
    <span class="n">score</span><span class="p">:</span> <span class="nb">float</span>                                 <span class="c1"># Overall quality score</span>
    <span class="n">time_created</span><span class="p">:</span> <span class="nb">str</span>                            <span class="c1"># Creation timestamp</span>
    <span class="n">time_modified</span><span class="p">:</span> <span class="nb">str</span>                           <span class="c1"># Last modification timestamp</span>
    <span class="n">author</span><span class="p">:</span> <span class="nb">str</span>                                  <span class="c1"># Creator (typically LLM model name)</span>
    <span class="n">tool_call_results</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ToolCallResult</span><span class="p">]</span>      <span class="c1"># Historical invocation records</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span>                               <span class="c1"># Additional metadata</span>
</code></pre></div>

<p><strong>Key Fields:</strong>
- <strong><code>when_to_use</code></strong>: The tool name, used as the unique identifier for retrieval
- <strong><code>content</code></strong>: Human-readable usage guidelines synthesized from historical data
- <strong><code>tool_call_results</code></strong>: Complete history of tool invocations with evaluations
- <strong><code>score</code></strong>: Overall quality metric for the tool's performance</p>
<h4 id="toolcallresult">ToolCallResult</h4>
<p>Each tool invocation is captured as a <code>ToolCallResult</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ToolCallResult</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">create_time</span><span class="p">:</span> <span class="nb">str</span>        <span class="c1"># Invocation timestamp</span>
    <span class="n">tool_name</span><span class="p">:</span> <span class="nb">str</span>          <span class="c1"># Name of the tool</span>
    <span class="nb">input</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span>       <span class="c1"># Input parameters</span>
    <span class="n">output</span><span class="p">:</span> <span class="nb">str</span>             <span class="c1"># Tool output</span>
    <span class="n">token_cost</span><span class="p">:</span> <span class="nb">int</span>         <span class="c1"># Token consumption</span>
    <span class="n">success</span><span class="p">:</span> <span class="nb">bool</span>           <span class="c1"># Whether invocation succeeded</span>
    <span class="n">time_cost</span><span class="p">:</span> <span class="nb">float</span>        <span class="c1"># Time consumed (seconds)</span>
    <span class="n">summary</span><span class="p">:</span> <span class="nb">str</span>            <span class="c1"># Brief summary of the result</span>
    <span class="n">evaluation</span><span class="p">:</span> <span class="nb">str</span>         <span class="c1"># Detailed evaluation (generated by LLM)</span>
    <span class="n">score</span><span class="p">:</span> <span class="nb">float</span>            <span class="c1"># Evaluation score (0.0 for failure, 1.0 for success)</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span>          <span class="c1"># Additional metadata</span>
</code></pre></div>

<p><strong>Key Fields:</strong>
- <strong><code>input</code>/<code>output</code></strong>: The complete I/O data for analysis
- <strong><code>summary</code></strong>: LLM-generated brief summary of what happened
- <strong><code>evaluation</code></strong>: LLM-generated detailed analysis of the call quality
- <strong><code>score</code></strong>: Binary evaluation (0.0 = failure, 1.0 = success)
- <strong>Performance metrics</strong>: <code>time_cost</code>, <code>token_cost</code>, <code>success</code> for statistical analysis</p>
<h3 id="tool-memory-lifecycle">Tool Memory Lifecycle</h3>
<div class="codehilite"><pre><span></span><code><span class="n">graph</span><span class="w"> </span><span class="n">LR</span>
<span class="w">    </span><span class="n">A</span><span class="p">[</span><span class="n">Tool</span><span class="w"> </span><span class="n">Call</span><span class="p">]</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="n">Evaluate</span><span class="p">]</span>
<span class="w">    </span><span class="n">B</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="n">C</span><span class="p">[</span><span class="n">Store</span><span class="w"> </span><span class="n">Memory</span><span class="p">]</span>
<span class="w">    </span><span class="n">C</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="n">D</span><span class="p">[(</span><span class="n">Vector</span><span class="w"> </span><span class="n">Store</span><span class="p">)]</span>
<span class="w">    </span><span class="n">D</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="n">E</span><span class="p">[</span><span class="n">Agent</span><span class="w"> </span><span class="n">Retrieves</span><span class="p">]</span>
<span class="w">    </span><span class="n">E</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="n">A</span>
<span class="w">    </span><span class="n">C</span><span class="w"> </span><span class="o">-</span><span class="p">.</span><span class="n">Periodic</span><span class="p">.</span><span class="o">-&gt;</span><span class="w"> </span><span class="n">F</span><span class="p">[</span><span class="n">Summarize</span><span class="p">]</span>
<span class="w">    </span><span class="n">F</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="n">C</span>
</code></pre></div>

<h2 id="3-how-tool-memory-works-the-complete-flow">3. How Tool Memory Works: The Complete Flow</h2>
<p>Tool Memory operates through three complementary operations that work together to create a learning loop:</p>
<div class="codehilite"><pre><span></span><code><span class="n">graph</span><span class="w"> </span><span class="n">LR</span>
<span class="w">    </span><span class="n">A</span><span class="p">[</span><span class="n">Agent</span><span class="p">]</span><span class="w"> </span><span class="o">--&gt;|</span><span class="mi">1</span><span class="w"> </span><span class="n">retrieve_tool_memory</span><span class="o">|</span><span class="w"> </span><span class="n">B</span><span class="p">[(</span><span class="n">Vector</span><span class="w"> </span><span class="n">Store</span><span class="p">)]</span>
<span class="w">    </span><span class="n">B</span><span class="w"> </span><span class="o">--&gt;|</span><span class="n">Guidelines</span><span class="o">|</span><span class="w"> </span><span class="n">A</span>
<span class="w">    </span><span class="n">A</span><span class="w"> </span><span class="o">--&gt;|</span><span class="mi">2</span><span class="w"> </span><span class="n">Execute</span><span class="w"> </span><span class="n">Tool</span><span class="o">|</span><span class="w"> </span><span class="n">C</span><span class="p">[</span><span class="n">Tool</span><span class="p">]</span>
<span class="w">    </span><span class="n">C</span><span class="w"> </span><span class="o">--&gt;|</span><span class="n">Result</span><span class="o">|</span><span class="w"> </span><span class="n">A</span>
<span class="w">    </span><span class="n">A</span><span class="w"> </span><span class="o">--&gt;|</span><span class="mi">3</span><span class="w"> </span><span class="n">add_tool_call_result</span><span class="o">|</span><span class="w"> </span><span class="n">D</span><span class="p">[</span><span class="n">LLM</span><span class="w"> </span><span class="n">Evaluate</span><span class="p">]</span>
<span class="w">    </span><span class="n">D</span><span class="w"> </span><span class="o">--&gt;|</span><span class="n">Store</span><span class="o">|</span><span class="w"> </span><span class="n">B</span>
<span class="w">    </span><span class="n">B</span><span class="w"> </span><span class="o">--&gt;|</span><span class="n">Periodic</span><span class="o">|</span><span class="w"> </span><span class="n">E</span><span class="p">[</span><span class="n">summary_tool_memory</span><span class="p">]</span>
<span class="w">    </span><span class="n">E</span><span class="w"> </span><span class="o">--&gt;|</span><span class="mi">4</span><span class="w"> </span><span class="n">Update</span><span class="w"> </span><span class="n">Guidelines</span><span class="o">|</span><span class="w"> </span><span class="n">B</span>
</code></pre></div>

<h3 id="operation-flow">Operation Flow</h3>
<p><strong>1. retrieve_tool_memory</strong> (Before Execution)
- Agent queries: "How should I use <code>web_search</code> tool?"
- Retrieves stored guidelines and historical patterns
- Returns: Usage recommendations, parameter suggestions, common pitfalls</p>
<p><strong>2. Tool Execution</strong>
- Agent executes tool with informed parameters
- Collects: input, output, time_cost, token_cost, success status</p>
<p><strong>3. add_tool_call_result</strong> (After Execution)
- Submits execution data for evaluation
- LLM analyzes: Was it successful? What could be improved?
- Generates: summary, evaluation, score (0.0 or 1.0)
- Appends to tool's historical record in Vector Store</p>
<p><strong>4. summary_tool_memory</strong> (Periodic)
- Analyzes recent N tool calls (e.g., last 20-30)
- Calculates statistics: success rate, avg costs, avg score
- LLM synthesizes: Actionable usage guidelines
- Updates the <code>content</code> field with comprehensive guidance</p>
<h3 id="example-flow-from-demo">Example Flow from Demo</h3>
<p>Based on <code>use_tool_memory_demo.py</code>, here's a typical workflow:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Step 1: Add tool call results (accumulate history)</span>
<span class="n">add_tool_call_results</span><span class="p">([</span>
    <span class="p">{</span><span class="s2">&quot;tool_name&quot;</span><span class="p">:</span> <span class="s2">&quot;web_search&quot;</span><span class="p">,</span> <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">},</span> <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;tool_name&quot;</span><span class="p">:</span> <span class="s2">&quot;web_search&quot;</span><span class="p">,</span> <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="p">{</span><span class="o">...</span><span class="p">},</span> <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="c1"># ... more results</span>
<span class="p">])</span>

<span class="c1"># Step 2: Generate usage guidelines (periodic)</span>
<span class="n">summarize_tool_memory</span><span class="p">(</span><span class="s2">&quot;web_search&quot;</span><span class="p">)</span>

<span class="c1"># Step 3: Retrieve guidelines before next use</span>
<span class="n">memory</span> <span class="o">=</span> <span class="n">retrieve_tool_memory</span><span class="p">(</span><span class="s2">&quot;web_search&quot;</span><span class="p">)</span>
<span class="c1"># Returns:</span>
<span class="c1"># &quot;For web_search tool:</span>
<span class="c1">#  - Use max_results=5-20 for optimal performance</span>
<span class="c1">#  - Avoid generic queries, be specific</span>
<span class="c1">#  - Language parameter &#39;en&#39; has 95% success rate</span>
<span class="c1">#  Statistics: 83% success, avg 2.3s, avg 150 tokens&quot;</span>

<span class="c1"># Step 4: Agent uses guidelines for better execution</span>
<span class="n">execute_with_recommended_parameters</span><span class="p">()</span>
</code></pre></div>

<h2 id="4-operation-details-how-to-use-each-component">4. Operation Details: How to Use Each Component</h2>
<h3 id="41-add_tool_call_result">4.1 <code>add_tool_call_result</code></h3>
<p><strong>Purpose</strong>: Evaluate and store tool call results into Tool Memory.</p>
<p><strong>Flow</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">add_tool_call_result</span><span class="p">:</span>
<span class="w">  </span><span class="nt">flow_content</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">parse_tool_call_result_op &gt;&gt; update_vector_store_op</span>
<span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Evaluates</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">adds</span><span class="nv"> </span><span class="s">tool</span><span class="nv"> </span><span class="s">call</span><span class="nv"> </span><span class="s">results</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">tool</span><span class="nv"> </span><span class="s">memory</span><span class="nv"> </span><span class="s">database&quot;</span>
</code></pre></div>

<p><strong>Process</strong>:
1. Receives raw tool call results
2. Uses LLM to evaluate each call (generates summary, evaluation, score)
3. Groups results by tool name
4. Creates or updates ToolMemory objects
5. Stores in Vector Store</p>
<p><strong>Configuration</strong> (<code>default.yaml</code>):</p>
<div class="codehilite"><pre><span></span><code><span class="nt">op</span><span class="p">:</span>
<span class="w">  </span><span class="nt">parse_tool_call_result_op</span><span class="p">:</span>
<span class="w">    </span><span class="nt">backend</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">parse_tool_call_result_op</span>
<span class="w">    </span><span class="nt">llm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">    </span><span class="nt">params</span><span class="p">:</span>
<span class="w">      </span><span class="nt">max_history_tool_call_cnt</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span><span class="w">      </span><span class="c1"># Max calls to retain per tool</span>
<span class="w">      </span><span class="nt">evaluation_sleep_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span><span class="w">      </span><span class="c1"># Delay between evaluations (seconds)</span>
</code></pre></div>

<h4 id="usage-with-curl">Usage with curl</h4>
<div class="codehilite"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://0.0.0.0:8002/add_tool_call_result<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;workspace_id&quot;: &quot;my_workspace&quot;,</span>
<span class="s1">    &quot;tool_call_results&quot;: [</span>
<span class="s1">      {</span>
<span class="s1">        &quot;create_time&quot;: &quot;2025-10-21 10:30:00&quot;,</span>
<span class="s1">        &quot;tool_name&quot;: &quot;web_search&quot;,</span>
<span class="s1">        &quot;input&quot;: {</span>
<span class="s1">            &quot;query&quot;: &quot;Python asyncio tutorial&quot;,</span>
<span class="s1">            &quot;max_results&quot;: 10,</span>
<span class="s1">            &quot;language&quot;: &quot;en&quot;</span>
<span class="s1">        },</span>
<span class="s1">        &quot;output&quot;: &quot;Found 10 relevant results including official docs and tutorials&quot;,</span>
<span class="s1">        &quot;token_cost&quot;: 150,</span>
<span class="s1">        &quot;success&quot;: true,</span>
<span class="s1">        &quot;time_cost&quot;: 2.3</span>
<span class="s1">      },</span>
<span class="s1">      {</span>
<span class="s1">        &quot;create_time&quot;: &quot;2025-10-21 10:32:00&quot;,</span>
<span class="s1">        &quot;tool_name&quot;: &quot;web_search&quot;,</span>
<span class="s1">        &quot;input&quot;: {</span>
<span class="s1">          &quot;query&quot;: &quot;test&quot;,</span>
<span class="s1">          &quot;max_results&quot;: 100,</span>
<span class="s1">          &quot;language&quot;: &quot;unknown&quot;</span>
<span class="s1">        },</span>
<span class="s1">        &quot;output&quot;: &quot;Error: Invalid language parameter&quot;,</span>
<span class="s1">        &quot;token_cost&quot;: 50,</span>
<span class="s1">        &quot;success&quot;: false,</span>
<span class="s1">        &quot;time_cost&quot;: 0.5</span>
<span class="s1">      }</span>
<span class="s1">    ]</span>
<span class="s1">  }&#39;</span>
</code></pre></div>

<p><strong>Response</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;answer&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Successfully evaluated and stored 2 tool call results&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;memory_list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;when_to_use&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;web_search&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;memory_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abc123...&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;tool_call_results&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;tool_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;web_search&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Successfully retrieved relevant Python asyncio documentation&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;evaluation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Good parameter choices with appropriate max_results and language settings&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span>
<span class="w">            </span><span class="err">...</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;tool_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;web_search&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Failed due to invalid language parameter&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;evaluation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Query too generic and language parameter not supported&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span>
<span class="w">            </span><span class="err">...</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h4 id="usage-with-python">Usage with Python</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>

<span class="k">def</span><span class="w"> </span><span class="nf">add_tool_call_results</span><span class="p">(</span><span class="n">tool_call_results</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add tool call results to Tool Memory&quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">BASE_URL</span><span class="si">}</span><span class="s2">add_tool_call_result&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;workspace_id&quot;</span><span class="p">:</span> <span class="n">WORKSPACE_ID</span><span class="p">,</span>
            <span class="s2">&quot;tool_call_results&quot;</span><span class="p">:</span> <span class="n">tool_call_results</span>
        <span class="p">}</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

<span class="c1"># Example: Record a tool invocation</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">add_tool_call_results</span><span class="p">([{</span>
    <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">),</span>
    <span class="s2">&quot;tool_name&quot;</span><span class="p">:</span> <span class="s2">&quot;web_search&quot;</span><span class="p">,</span>
    <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="s2">&quot;Python asyncio&quot;</span><span class="p">,</span> <span class="s2">&quot;max_results&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
    <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="s2">&quot;Found 10 relevant results...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;token_cost&quot;</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span>
    <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;time_cost&quot;</span><span class="p">:</span> <span class="mf">2.3</span>
<span class="p">}])</span>
</code></pre></div>

<p><strong>Complete examples</strong>: See <code>cookbook/simple_demo/use_tool_memory_demo.py</code> for full working code.</p>
<hr />
<h3 id="42-retrieve_tool_memory">4.2 <code>retrieve_tool_memory</code></h3>
<p><strong>Purpose</strong>: Retrieve usage guidelines and historical data for specific tools.</p>
<p><strong>Flow</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">retrieve_tool_memory</span><span class="p">:</span>
<span class="w">  </span><span class="nt">flow_content</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">retrieve_tool_memory_op</span>
<span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Retrieves</span><span class="nv"> </span><span class="s">tool</span><span class="nv"> </span><span class="s">memories</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">vector</span><span class="nv"> </span><span class="s">database</span><span class="nv"> </span><span class="s">based</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">tool</span><span class="nv"> </span><span class="s">names&quot;</span>
</code></pre></div>

<p><strong>Process</strong>:
1. Takes comma-separated tool names as input
2. Searches Vector Store for exact matches (by <code>when_to_use</code> field)
3. Returns complete ToolMemory objects with:
   - Usage guidelines (<code>content</code>)
   - Historical call records (<code>tool_call_results</code>)
   - Statistics and metadata</p>
<h4 id="usage-with-curl_1">Usage with curl</h4>
<div class="codehilite"><pre><span></span><code><span class="c1"># Retrieve single tool</span>
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://0.0.0.0:8002/retrieve_tool_memory<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;workspace_id&quot;: &quot;my_workspace&quot;,</span>
<span class="s1">    &quot;tool_names&quot;: &quot;web_search&quot;</span>
<span class="s1">  }&#39;</span>

<span class="c1"># Retrieve multiple tools (comma-separated)</span>
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://0.0.0.0:8002/retrieve_tool_memory<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;workspace_id&quot;: &quot;my_workspace&quot;,</span>
<span class="s1">    &quot;tool_names&quot;: &quot;web_search,database_query,file_processor&quot;</span>
<span class="s1">  }&#39;</span>
</code></pre></div>

<p><strong>Response</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;answer&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Successfully retrieved 1 tool memories&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;memory_list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;memory_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tool&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;workspace_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my_workspace&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;memory_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abc123...&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;when_to_use&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;web_search&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;## Usage Guidelines\n\n**Best Practices:**\n- Use max_results between 5-20 for optimal performance\n- Always specify language parameter (en has 95% success rate)\n- Avoid generic single-word queries\n\n**Common Pitfalls:**\n- max_results &gt; 50 often causes timeouts\n- Unknown language values default to &#39;en&#39; with warning\n\n## Statistics\n- **Success Rate**: 83.33%\n- **Average Score**: 0.833\n- **Average Time Cost**: 2.345s\n- **Average Token Cost**: 156.7&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.85</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;time_created&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-10-20 10:00:00&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;time_modified&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-10-21 10:35:00&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;author&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gpt-4&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;tool_call_results&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;create_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-10-21 10:30:00&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;tool_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;web_search&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Python asyncio&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;max_results&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Found 10 results...&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Successfully retrieved relevant documentation&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;evaluation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Good parameter choices...&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;token_cost&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;time_cost&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.3</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">          </span><span class="c1">// ... more historical calls</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h4 id="usage-with-python_1">Usage with Python</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>

<span class="k">def</span><span class="w"> </span><span class="nf">retrieve_tool_memory</span><span class="p">(</span><span class="n">tool_names</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve tool memories by tool names&quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">BASE_URL</span><span class="si">}</span><span class="s2">retrieve_tool_memory&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;workspace_id&quot;</span><span class="p">:</span> <span class="n">WORKSPACE_ID</span><span class="p">,</span>
            <span class="s2">&quot;tool_names&quot;</span><span class="p">:</span> <span class="n">tool_names</span>
        <span class="p">}</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

<span class="c1"># Example: Retrieve and use guidelines</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">retrieve_tool_memory</span><span class="p">(</span><span class="s2">&quot;web_search&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">]:</span>
    <span class="n">memory</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">][</span><span class="s1">&#39;memory_list&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tool: </span><span class="si">{</span><span class="n">memory</span><span class="p">[</span><span class="s1">&#39;when_to_use&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Guidelines:</span><span class="se">\n</span><span class="si">{</span><span class="n">memory</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Complete examples</strong>: See <code>cookbook/simple_demo/use_tool_memory_demo.py</code> for full working code.</p>
<hr />
<h3 id="43-summary_tool_memory">4.3 <code>summary_tool_memory</code></h3>
<p><strong>Purpose</strong>: Analyze historical tool calls and generate comprehensive usage guidelines.</p>
<p><strong>Flow</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">summary_tool_memory</span><span class="p">:</span>
<span class="w">  </span><span class="nt">flow_content</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">summary_tool_memory_op &gt;&gt; update_vector_store_op</span>
<span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Analyzes</span><span class="nv"> </span><span class="s">tool</span><span class="nv"> </span><span class="s">call</span><span class="nv"> </span><span class="s">history</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">generates</span><span class="nv"> </span><span class="s">comprehensive</span><span class="nv"> </span><span class="s">usage</span><span class="nv"> </span><span class="s">patterns&quot;</span>
</code></pre></div>

<p><strong>Process</strong>:
1. Retrieves existing ToolMemory by tool name
2. Analyzes recent N tool calls (default: 30)
3. Calculates statistics:
   - Success rate
   - Average score
   - Average time cost
   - Average token cost
4. Uses LLM to synthesize actionable guidelines from call summaries
5. Appends statistics to guidelines
6. Updates ToolMemory content in Vector Store</p>
<p><strong>Configuration</strong> (<code>default.yaml</code>):</p>
<div class="codehilite"><pre><span></span><code><span class="nt">op</span><span class="p">:</span>
<span class="w">  </span><span class="nt">summary_tool_memory_op</span><span class="p">:</span>
<span class="w">    </span><span class="nt">backend</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">summary_tool_memory_op</span>
<span class="w">    </span><span class="nt">llm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">    </span><span class="nt">params</span><span class="p">:</span>
<span class="w">      </span><span class="nt">recent_call_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w">               </span><span class="c1"># Number of recent calls to analyze</span>
<span class="w">      </span><span class="nt">summary_sleep_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span><span class="w">         </span><span class="c1"># Delay between summaries (seconds)</span>
</code></pre></div>

<h4 id="usage-with-curl_2">Usage with curl</h4>
<div class="codehilite"><pre><span></span><code><span class="c1"># Summarize single tool</span>
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://0.0.0.0:8002/summary_tool_memory<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;workspace_id&quot;: &quot;my_workspace&quot;,</span>
<span class="s1">    &quot;tool_names&quot;: &quot;web_search&quot;</span>
<span class="s1">  }&#39;</span>

<span class="c1"># Summarize multiple tools (comma-separated)</span>
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://0.0.0.0:8002/summary_tool_memory<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;workspace_id&quot;: &quot;my_workspace&quot;,</span>
<span class="s1">    &quot;tool_names&quot;: &quot;web_search,database_query,file_processor&quot;</span>
<span class="s1">  }&#39;</span>
</code></pre></div>

<p><strong>Response</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;answer&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Successfully summarized 1 tool memories&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;memory_list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;memory_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tool&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;when_to_use&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;web_search&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;## Usage Guidelines\n\n**Optimal Parameters:**\n- Set max_results between 5-20 for best balance of coverage and speed\n- Always specify language=&#39;en&#39; for technical queries (95% success rate)\n- Use filter_type=&#39;technical_docs&#39; for development-related searches\n\n**Success Patterns:**\n- Specific, multi-word queries perform significantly better than generic terms\n- Queries with clear intent (e.g., &#39;Python asyncio tutorial&#39;) return high-quality results\n- Technical terms and version numbers improve result relevance\n\n**Common Failures:**\n- Generic single-word queries (e.g., &#39;test&#39;) return poor results\n- max_results &gt; 50 increases timeout risk (5 failures observed)\n- Invalid language codes cause fallback to default with warnings\n\n**Performance Insights:**\n- Typical response time: 1.5-3.5s for successful queries\n- Timeout threshold: 10s (consider simplifying complex queries)\n- Token cost scales with result count: ~150 tokens for 10 results\n\n**Recommendations:**\n1. Always validate language parameter before calling\n2. Start with max_results=10, adjust based on needs\n3. For time-sensitive operations, set timeout &lt; 5s\n4. Monitor token costs for high-frequency usage\n\n## Statistics\n- **Success Rate**: 83.33%\n- **Average Score**: 0.833\n- **Average Time Cost**: 2.345s\n- **Average Token Cost**: 156.7&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;memory_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abc123...&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;time_modified&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-10-21 10:40:00&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="err">...</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h4 id="usage-with-python_2">Usage with Python</h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>

<span class="k">def</span><span class="w"> </span><span class="nf">summarize_tool_memory</span><span class="p">(</span><span class="n">tool_names</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate comprehensive usage guidelines for tools&quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">BASE_URL</span><span class="si">}</span><span class="s2">summary_tool_memory&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;workspace_id&quot;</span><span class="p">:</span> <span class="n">WORKSPACE_ID</span><span class="p">,</span>
            <span class="s2">&quot;tool_names&quot;</span><span class="p">:</span> <span class="n">tool_names</span>
        <span class="p">}</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

<span class="c1"># Example: Generate guidelines</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">summarize_tool_memory</span><span class="p">(</span><span class="s2">&quot;web_search&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">]:</span>
    <span class="n">memory</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">][</span><span class="s1">&#39;memory_list&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tool: </span><span class="si">{</span><span class="n">memory</span><span class="p">[</span><span class="s1">&#39;when_to_use&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Guidelines:</span><span class="se">\n</span><span class="si">{</span><span class="n">memory</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Complete examples</strong>: See <code>cookbook/simple_demo/use_tool_memory_demo.py</code> for full working code.</p>
<hr />
<h2 id="5-best-practices">5. Best Practices</h2>
<h3 id="when-to-record-tool-calls">When to Record Tool Calls</h3>
<ul>
<li><strong>Always</strong>: Record every tool invocation, including failures</li>
<li><strong>Include</strong>: Complete input parameters, output, and performance metrics</li>
<li><strong>Timing</strong>: Record immediately after tool execution completes</li>
</ul>
<h3 id="when-to-generate-summaries">When to Generate Summaries</h3>
<ul>
<li><strong>Initial</strong>: After accumulating 20-30 tool calls for meaningful patterns</li>
<li><strong>Periodic</strong>: Re-summarize every 50-100 new calls or weekly</li>
<li><strong>Trigger-based</strong>: When success rate drops or patterns change significantly</li>
</ul>
<h3 id="when-to-retrieve-guidelines">When to Retrieve Guidelines</h3>
<ul>
<li><strong>Before first use</strong>: Always retrieve before using an unfamiliar tool</li>
<li><strong>Before critical operations</strong>: Check latest guidelines for important tasks</li>
<li><strong>After updates</strong>: Re-retrieve when tool memory has been updated</li>
</ul>
<h3 id="performance-tuning">Performance Tuning</h3>
<p><strong>For High-Volume Tools</strong> (&gt;100 calls/day):</p>
<div class="codehilite"><pre><span></span><code><span class="nt">op</span><span class="p">:</span>
<span class="w">  </span><span class="nt">parse_tool_call_result_op</span><span class="p">:</span>
<span class="w">    </span><span class="nt">params</span><span class="p">:</span>
<span class="w">      </span><span class="nt">max_history_tool_call_cnt</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200</span><span class="w">      </span><span class="c1"># Keep more history</span>
<span class="w">      </span><span class="nt">evaluation_sleep_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.5</span><span class="w">      </span><span class="c1"># Faster evaluation</span>

<span class="w">  </span><span class="nt">summary_tool_memory_op</span><span class="p">:</span>
<span class="w">    </span><span class="nt">params</span><span class="p">:</span>
<span class="w">      </span><span class="nt">recent_call_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w">               </span><span class="c1"># Analyze more calls</span>
</code></pre></div>

<p><strong>For Low-Volume Tools</strong> (&lt;20 calls/day):</p>
<div class="codehilite"><pre><span></span><code><span class="nt">op</span><span class="p">:</span>
<span class="w">  </span><span class="nt">parse_tool_call_result_op</span><span class="p">:</span>
<span class="w">    </span><span class="nt">params</span><span class="p">:</span>
<span class="w">      </span><span class="nt">max_history_tool_call_cnt</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w">       </span><span class="c1"># Less history needed</span>
<span class="w">      </span><span class="nt">evaluation_sleep_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span><span class="w">      </span><span class="c1"># Standard rate</span>

<span class="w">  </span><span class="nt">summary_tool_memory_op</span><span class="p">:</span>
<span class="w">    </span><span class="nt">params</span><span class="p">:</span>
<span class="w">      </span><span class="nt">recent_call_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span><span class="w">               </span><span class="c1"># Analyze fewer calls</span>
</code></pre></div>

<h3 id="quality-maintenance">Quality Maintenance</h3>
<ol>
<li><strong>Monitor Metrics</strong>:</li>
</ol>
<div class="codehilite"><pre><span></span><code>   <span class="n">memory</span> <span class="o">=</span> <span class="n">retrieve_tool_memory</span><span class="p">(</span><span class="s2">&quot;web_search&quot;</span><span class="p">)[</span><span class="s1">&#39;metadata&#39;</span><span class="p">][</span><span class="s1">&#39;memory_list&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
   <span class="n">stats</span> <span class="o">=</span> <span class="n">ToolMemory</span><span class="p">(</span><span class="o">**</span><span class="n">memory</span><span class="p">)</span><span class="o">.</span><span class="n">statistic</span><span class="p">(</span><span class="n">recent_frequency</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>

   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Success Rate: </span><span class="si">{</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;success_rate&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Avg Score: </span><span class="si">{</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;avg_score&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

   <span class="k">if</span> <span class="n">stats</span><span class="p">[</span><span class="s1">&#39;success_rate&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.7</span><span class="p">:</span>
       <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⚠️ Low success rate - investigate tool issues&quot;</span><span class="p">)</span>
   <span class="err">```</span>

<span class="mf">2.</span> <span class="o">**</span><span class="n">Clean</span> <span class="n">Old</span> <span class="n">Memories</span><span class="o">**</span><span class="p">:</span>
   <span class="o">-</span> <span class="n">Delete</span> <span class="n">tool</span> <span class="n">memories</span> <span class="k">for</span> <span class="n">deprecated</span> <span class="n">tools</span>
   <span class="o">-</span> <span class="n">Reset</span> <span class="n">memories</span> <span class="n">when</span> <span class="n">tool</span> <span class="n">behavior</span> <span class="n">changes</span> <span class="n">significantly</span>

<span class="mf">3.</span> <span class="o">**</span><span class="n">Validate</span> <span class="n">Guidelines</span><span class="o">**</span><span class="p">:</span>
   <span class="o">-</span> <span class="n">Periodically</span> <span class="n">review</span> <span class="n">generated</span> <span class="n">guidelines</span> <span class="k">for</span> <span class="n">accuracy</span>
   <span class="o">-</span> <span class="n">Test</span> <span class="n">recommended</span> <span class="n">parameters</span> <span class="ow">in</span> <span class="n">production</span> <span class="n">scenarios</span>

<span class="c1">## 6. Memory Management</span>

<span class="c1">### Delete Workspace</span>
<span class="err">```</span><span class="n">bash</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">0.0.0.0</span><span class="p">:</span><span class="mi">8002</span><span class="o">/</span><span class="n">vector_store</span> \
  <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type: application/json&quot;</span> \
  <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;{</span>
    <span class="s2">&quot;workspace_id&quot;</span><span class="p">:</span> <span class="s2">&quot;my_workspace&quot;</span><span class="p">,</span>
    <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span>
  <span class="p">}</span><span class="s1">&#39;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">delete_workspace</span><span class="p">(</span><span class="n">workspace_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">BASE_URL</span><span class="si">}</span><span class="s2">vector_store&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">:</span> <span class="n">workspace_id</span><span class="p">,</span> <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div>

<h3 id="dump-memories-to-disk">Dump Memories to Disk</h3>
<div class="codehilite"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://0.0.0.0:8002/vector_store<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;workspace_id&quot;: &quot;my_workspace&quot;,</span>
<span class="s1">    &quot;action&quot;: &quot;dump&quot;,</span>
<span class="s1">    &quot;path&quot;: &quot;./memory_backup/&quot;</span>
<span class="s1">  }&#39;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dump_memory</span><span class="p">(</span><span class="n">workspace_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;./&quot;</span><span class="p">):</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">BASE_URL</span><span class="si">}</span><span class="s2">vector_store&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">:</span> <span class="n">workspace_id</span><span class="p">,</span> <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;dump&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">path</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div>

<h3 id="load-memories-from-disk">Load Memories from Disk</h3>
<div class="codehilite"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://0.0.0.0:8002/vector_store<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;workspace_id&quot;: &quot;my_workspace&quot;,</span>
<span class="s1">    &quot;action&quot;: &quot;load&quot;,</span>
<span class="s1">    &quot;path&quot;: &quot;./memory_backup/&quot;</span>
<span class="s1">  }&#39;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load_memory</span><span class="p">(</span><span class="n">workspace_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;./&quot;</span><span class="p">):</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">BASE_URL</span><span class="si">}</span><span class="s2">vector_store&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">:</span> <span class="n">workspace_id</span><span class="p">,</span> <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;load&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">path</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div>

<h2 id="7-complete-working-example">7. Complete Working Example</h2>
<p>For a complete, runnable example demonstrating the full Tool Memory lifecycle, see:</p>
<p><strong><code>cookbook/simple_demo/use_tool_memory_demo.py</code></strong></p>
<p>This demo includes:
- <strong>Workspace management</strong>: Clean, delete, dump, and load operations
- <strong>Tool call recording</strong>: Adding 30+ mock tool invocations with various scenarios
- <strong>Summarization</strong>: Generating usage guidelines from historical data
- <strong>Retrieval</strong>: Fetching and displaying tool memories
- <strong>Statistics</strong>: Analyzing success rates, costs, and performance</p>
<p>Run the demo:</p>
<div class="codehilite"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>cookbook/simple_demo
python<span class="w"> </span>use_tool_memory_demo.py
</code></pre></div>

<p><strong>Key Workflow Steps:</strong>
1. <strong>Clean workspace</strong>: Remove existing data
2. <strong>Add tool calls</strong>: Record 30+ invocations (success/failure scenarios)
3. <strong>Generate guidelines</strong>: LLM analyzes patterns and creates recommendations
4. <strong>Retrieve memory</strong>: Get usage guidelines for agent consumption
5. <strong>Persistence</strong>: Test dump/load operations</p>
<h2 id="8-advanced-use-cases">8. Advanced Use Cases</h2>
<h3 id="use-case-1-adaptive-parameter-tuning">Use Case 1: Adaptive Parameter Tuning</h3>
<p>Retrieve tool memory statistics and adapt parameters based on historical performance:
- If <code>avg_time_cost &gt; 5s</code>: Increase timeout
- If <code>success_rate &lt; 80%</code>: Enable retry logic
- If <code>avg_token_cost</code> high: Reduce result limits</p>
<h3 id="use-case-2-multi-tool-workflow-optimization">Use Case 2: Multi-Tool Workflow Optimization</h3>
<p>Retrieve memories for multiple tools at once and optimize workflow order based on:
- Success rates: Execute reliable tools first
- Time costs: Parallelize slow operations
- Token costs: Budget-aware tool selection</p>
<h3 id="use-case-3-automated-quality-monitoring">Use Case 3: Automated Quality Monitoring</h3>
<p>Periodically check tool memory statistics and alert on:
- Success rate degradation
- Increasing time/token costs
- Unusual failure patterns</p>
<p><strong>Implementation examples</strong>: See <code>cookbook/simple_demo/use_tool_memory_demo.py</code> and the ToolBench evaluation scripts.</p>
<h2 id="9-benchmark-results">9. Benchmark Results</h2>
<h3 id="tool-memory-performance-evaluation">Tool Memory Performance Evaluation</h3>
<p>We evaluated Tool Memory effectiveness using a controlled benchmark with three mock search tools, each optimized for different query complexity levels (simple, moderate, complex). The benchmark compares agent performance with and without tool memory guidance across multiple epochs.</p>
<p><strong>Experimental Settings:</strong>
- <strong>Model</strong>: Qwen3-30B-Instruct with default parameters
- <strong>Task</strong>: Single-turn tool selection and invocation
- <strong>Dataset</strong>: 60 training queries + 60 test queries per epoch
- <strong>Tools</strong>: 3 mock search tools with varying performance profiles
- <strong>Metrics</strong>: Average quality score (0.0-1.0) based on LLM evaluation
- <strong>Baseline</strong>: Test set performance without tool memory
- <strong>Replication</strong>: Results averaged across 3 independent experimental runs</p>
<p><strong>Results (averaged across 3 epochs):</strong></p>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>Avg Score</th>
<th>Improvement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Train (No Memory)</td>
<td>0.650</td>
<td>-</td>
</tr>
<tr>
<td>Test (No Memory)</td>
<td>0.672</td>
<td>Baseline</td>
</tr>
<tr>
<td><strong>Test (With Memory)</strong></td>
<td><strong>0.772</strong></td>
<td><strong>+14.88%</strong></td>
</tr>
</tbody>
</table>
<p><strong>Key Findings:</strong>
- <strong>Consistent improvement</strong>: Tool Memory boosted test performance by ~15% on average
- <strong>Knowledge transfer</strong>: Training data successfully informed test-time tool selection
- <strong>Stability</strong>: Improvement remained consistent across all 3 epochs (9.90% → 17.39% → 17.13%)</p>
<p>The benchmark demonstrates that Tool Memory enables agents to make data-driven tool selection decisions, significantly improving task success rates compared to relying solely on static tool descriptions.</p>
<p><strong>Benchmark Resources:</strong>
- <strong>Design Documentation</strong>: <a href="../tool_bench/"><code>docs/tool_memory/tool_bench.md</code></a> - Complete benchmark methodology and workflow
- <strong>Implementation</strong>: <a href="../../cookbook/tool_memory/run_reme_tool_bench.py"><code>cookbook/tool_memory/run_reme_tool_bench.py</code></a> - Full benchmark script
- <strong>Query Dataset</strong>: <a href="../../cookbook/tool_memory/query.json"><code>cookbook/tool_memory/query.json</code></a> - 60 train + 60 test queries across 3 complexity levels</p>
<hr />
<h2 id="10-references">10. References</h2>
<ul>
<li><strong>Implementation</strong>: See <code>reme_ai/summary/tool/</code> and <code>reme_ai/retrieve/tool/</code></li>
<li><strong>Demo</strong>: <code>cookbook/simple_demo/use_tool_memory_demo.py</code></li>
<li><strong>Benchmark</strong>: <code>cookbook/tool_memory/run_reme_tool_bench.py</code></li>
<li><strong>Schema</strong>: <code>reme_ai/schema/memory.py</code></li>
<li><strong>Utilities</strong>: <code>reme_ai/utils/tool_memory_utils.py</code></li>
</ul>

    </div>
</article>
                                <div class="mx-auto flex flex-wrap h-16 w-full max-w-2xl items-center gap-2 px-4 md:px-0">
    
    <a data-slot="button"
        class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-secondary text-secondary-foreground hover:bg-secondary/80 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 shadow-none"
        href="/ReMe/task_memory/task_summary_ops/">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="tabler-icon tabler-icon-arrow-left ">
            <path d="M5 12l14 0"></path>
            <path d="M5 12l6 6"></path>
            <path d="M5 12l6 -6"></path>
        </svg>
        Summary Ops
    </a>
    
    
    <a data-slot="button"
        class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-secondary text-secondary-foreground hover:bg-secondary/80 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 ml-auto shadow-none"
        href="/ReMe/tool_memory/tool_retrieve_ops/">
        Retrieve Ops
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="tabler-icon tabler-icon-arrow-right ">
            <path d="M5 12l14 0"></path>
            <path d="M13 18l6 -6"></path>
            <path d="M13 6l6 6"></path>
        </svg>
    </a>
    
</div>
                                <dialog id="bottom-sidebar" onclick="onBottomSidebarDialogClick(event)" class="bg-transparent"
    style="position: fixed; left: 0px; top: 0px; transform: translate(0px, 58px); min-width: max-content; --radix-popper-transform-origin: 0% 0px; will-change: transform; z-index: 50; --radix-popper-available-width: 504px; --radix-popper-available-height: 857px; --radix-popper-anchor-width: 72.94999694824219px; --radix-popper-anchor-height: 32px;">
    <div data-side="bottom" data-align="start" data-state="open" role="dialog" data-slot="popover-content"
        class="text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 origin-(--radix-popover-content-transform-origin) border outline-hidden bg-background/90 no-scrollbar h-(--radix-popper-available-height) w-(--radix-popper-available-width) overflow-y-auto rounded-none border-none p-0 shadow-none backdrop-blur duration-100"
        style="--radix-popover-content-transform-origin: var(--radix-popper-transform-origin); --radix-popover-content-available-width: var(--radix-popper-available-width); --radix-popover-content-available-height: var(--radix-popper-available-height); --radix-popover-trigger-width: var(--radix-popper-anchor-width); --radix-popover-trigger-height: var(--radix-popper-anchor-height);"
        tabindex="-1">
        <div class="flex flex-col gap-12 overflow-auto px-6 py-6">
            
            
            

            
            <div class="flex flex-col gap-4">
                <div class="text-muted-foreground text-sm font-medium">Menu</div>
                <div class="flex flex-col gap-3">
                    
                    <a class="text-2xl font-medium" href="../..">
                        
                        Welcome
                        
                    </a>
                    
                    <a class="text-2xl font-medium" href="../../todo/">
                        
                        TODO
                        
                    </a>
                    
                    <a class="text-2xl font-medium" href="../../contribution/">
                        
                        Contributions
                        
                    </a>
                    
                </div>
            </div>
            

            
            <div class="flex flex-col gap-8">
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">Library</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="../../library/library/">
                            
                            Library Home
                            
                        </a>
                        
                    </div>
                    
                </div>
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">Personal Memory</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="../../personal_memory/personal_memory/">
                            
                            Overview
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../personal_memory/personal_retrieve_ops/">
                            
                            Retrieve Ops
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../personal_memory/personal_summary_ops/">
                            
                            Summary Ops
                            
                        </a>
                        
                    </div>
                    
                </div>
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">Task Memory</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="../../task_memory/task_memory/">
                            
                            Overview
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../task_memory/task_retrieve_ops/">
                            
                            Retrieve Ops
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../task_memory/task_summary_ops/">
                            
                            Summary Ops
                            
                        </a>
                        
                    </div>
                    
                </div>
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">Tool Memory</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="./">
                            
                            Overview
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../tool_retrieve_ops/">
                            
                            Retrieve Ops
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../tool_summary_ops/">
                            
                            Summary Ops
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../tool_bench/">
                            
                            Benchmark
                            
                        </a>
                        
                    </div>
                    
                </div>
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">SOP Memory</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="../../sop_memory/making_sop_memories/">
                            
                            Making SOP Memories
                            
                        </a>
                        
                    </div>
                    
                </div>
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">Extensions</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="../../mcp_quick_start/">
                            
                            MCP
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../vector_store_api_guide/">
                            
                            Vector Store
                            
                        </a>
                        
                    </div>
                    
                </div>
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">Experimental Tutorials</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="../../cookbook/appworld/quickstart/">
                            
                            AppWorld
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../cookbook/bfcl/quickstart/">
                            
                            BFCL
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../cookbook/frozenlake/quickstart/">
                            
                            FrozenLake
                            
                        </a>
                        
                    </div>
                    
                </div>
                
            </div>
            
            

        </div>
    </div>
</dialog>
                            </div>
                            <div
                                class="sticky top-[calc(var(--header-height)+1px)] z-30 ml-auto hidden h-[calc(100svh-var(--header-height)-var(--footer-height))] w-72 flex-col gap-4 overflow-hidden overscroll-none pb-8 xl:flex">
                                <div class="h-(--top-spacing) shrink-0"></div>
                                <div view-transition-name="toc" class="no-scrollbar overflow-y-auto px-8">
    <div class="flex flex-col gap-2 p-4 pt-0 text-sm">
        <p class="text-muted-foreground bg-background sticky top-0 h-6 text-xs">On This Page</p>
        
        
        
        
        <a href="#1-background-why-tool-memory"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            1. Background: Why Tool Memory?
        </a>
        
        
        <a href="#the-mcp-tool-selection-challenge"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            The MCP Tool Selection Challenge
        </a>
        
        <a href="#the-solution-tool-memory-as-context-enhancement"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            The Solution: Tool Memory as Context Enhancement
        </a>
        
        <a href="#the-impact-from-static-descriptions-to-dynamic-intelligence"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            The Impact: From Static Descriptions to Dynamic Intelligence
        </a>
        
        <a href="#why-this-matters-for-mcp-ecosystem"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Why This Matters for MCP Ecosystem
        </a>
        
        

        
        <a href="#2-what-is-tool-memory"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            2. What is Tool Memory?
        </a>
        
        
        <a href="#data-structure"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Data Structure
        </a>
        
        <a href="#tool-memory-lifecycle"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Tool Memory Lifecycle
        </a>
        
        

        
        <a href="#3-how-tool-memory-works-the-complete-flow"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            3. How Tool Memory Works: The Complete Flow
        </a>
        
        
        <a href="#operation-flow"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Operation Flow
        </a>
        
        <a href="#example-flow-from-demo"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Example Flow from Demo
        </a>
        
        

        
        <a href="#4-operation-details-how-to-use-each-component"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            4. Operation Details: How to Use Each Component
        </a>
        
        
        <a href="#41-add_tool_call_result"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            4.1 add_tool_call_result
        </a>
        
        <a href="#42-retrieve_tool_memory"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            4.2 retrieve_tool_memory
        </a>
        
        <a href="#43-summary_tool_memory"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            4.3 summary_tool_memory
        </a>
        
        

        
        <a href="#5-best-practices"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            5. Best Practices
        </a>
        
        
        <a href="#when-to-record-tool-calls"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            When to Record Tool Calls
        </a>
        
        <a href="#when-to-generate-summaries"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            When to Generate Summaries
        </a>
        
        <a href="#when-to-retrieve-guidelines"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            When to Retrieve Guidelines
        </a>
        
        <a href="#performance-tuning"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Performance Tuning
        </a>
        
        <a href="#quality-maintenance"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Quality Maintenance
        </a>
        
        <a href="#dump-memories-to-disk"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Dump Memories to Disk
        </a>
        
        <a href="#load-memories-from-disk"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Load Memories from Disk
        </a>
        
        

        
        <a href="#7-complete-working-example"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            7. Complete Working Example
        </a>
        

        
        <a href="#8-advanced-use-cases"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            8. Advanced Use Cases
        </a>
        
        
        <a href="#use-case-1-adaptive-parameter-tuning"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Use Case 1: Adaptive Parameter Tuning
        </a>
        
        <a href="#use-case-2-multi-tool-workflow-optimization"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Use Case 2: Multi-Tool Workflow Optimization
        </a>
        
        <a href="#use-case-3-automated-quality-monitoring"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Use Case 3: Automated Quality Monitoring
        </a>
        
        

        
        <a href="#9-benchmark-results"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            9. Benchmark Results
        </a>
        
        
        <a href="#tool-memory-performance-evaluation"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Tool Memory Performance Evaluation
        </a>
        
        

        
        <a href="#10-references"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            10. References
        </a>
        

        
        
        
        

    </div>
    <div class="h-12"></div>
</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer view-transition-name="footer"
    class="group-has-[.section-soft]/body:bg-surface/40 3xl:fixed:bg-transparent dark:bg-transparent">
    <div class="container-wrapper px-4 xl:px-6">
        <div class="flex h-(--footer-height) items-center justify-between">
            <div class="text-muted-foreground w-full text-center text-xs leading-loose sm:text-sm">
                
                <a href="https://github.com/asiffer/mkdocs-shadcn">shadcn theme</a> provided by
                <a href="https://github.com/asiffer">@asiffer</a>
            </div>
        </div>
    </div>
</footer>
    </div>
     

<script src="../../search/main.js"></script>


    

    <script src="../../js/copy-button.js"></script>
    <script>updatePygmentsStylesheet();</script>
    
    <script>fetchStargazers("https://github.com/modelscope/ReMe");</script>
    
    
    
    <script src="../../js/socket.io.min.js"></script>
<script>
    function randomString(length = 10) {
        const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        const array = new Uint32Array(length);
        crypto.getRandomValues(array);
        return Array.from(array, x => chars[x % chars.length]).join('');
    }

    /**
     * Executes code using Programiz REPL via socket.io
     * @param {string} lang - Programming language (e.g., "python", "cpp", "javascript")
     * @param {string} code - Code to execute
     * @returns {Promise<{output:string,ok:boolean}>} Promise resolving to the output
     */
    function runCodexec(code, lang) {
        console.log(`Running code in ${lang}:`, code);
        if (!["r", "c", "cpp", "csharp", "java", "python", "javascript", "typescript", "scala", "dart", "ruby", "golang", "php", "swift", "rust"].includes(lang)) {
            return Promise.reject(new Error(`Unsupported language: ${lang}`));
        }
        const sessionId = randomString();
        const socket = io(`wss://${lang}.repl-web.programiz.com`, {
            path: "/socket.io",
            transports: ["websocket"],
            query: {
                sessionId,
                lang,
                EIO: "3",
            },
        });

        const id = `${lang}/${sessionId}`;


        return new Promise((resolve, reject) => {
            let timeout;
            let result = ""
            let ok = true;

            socket.on("connect_error", (err) => {
                console.error(`[${id}] Connection error:`, err);
                reject(err);
            });

            socket.on("connect", () => {
                console.log(`[${id}] Connected`);
                console.log(`[${id}] Code:\n${code}`);
                socket.emit("run", { code });
            });

            socket.on("disconnect", () => {
                clearTimeout(timeout);
                // remove bottom marker and trim
                result = result.replace("=== Code Execution Successful ===", "").trim(); // trim trailing newlines
                resolve({ output: result, ok });
                console.log(`[${id}] Disconnected`);
            });

            socket.on("output", ({ output }) => {
                console.log(`[${id}] Output received:`, output);
                if (output.slice(0, 6) === "ERROR!") {
                    ok = false;
                    // we try to retrieve the error message in the next message
                    return
                }
                // append output
                result += output;
            });

            // safety timeout
            timeout = setTimeout(() => {
                reject(new Error(`[${id}] Timeout while waiting for output`));
                socket.disconnect();
            }, 10000);
        });
    }

</script>
    
    <script type="speculationrules">
{
  "prerender": [
    {
      "where": {
          "selector_matches": ["#next-button", "#previous-button"],
      }
    }
  ]
}
</script>
</body>

</html>